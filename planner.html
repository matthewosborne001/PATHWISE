<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PathWise | Smart Deadline Starter</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0f1f3d, #162c57);
    color: white;
}

.container {
    max-width: 800px;
    margin: 80px auto;
    padding: 40px;
}

label {
    font-weight: bold;
}

input {
    width: 100%;
    padding: 12px;
    margin-top: 8px;
    margin-bottom: 25px;
    border-radius: 8px;
    border: none;
}

button {
    padding: 14px 24px;
    background: #f5a623;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
}

button:hover {
    opacity: 0.9;
}

.result-box {
    margin-top: 40px;
    background: rgba(255,255,255,0.08);
    padding: 30px;
    border-radius: 16px;
    line-height: 1.7;
}

.back-btn {
    display: inline-block;
    margin-top: 40px;
    text-decoration: none;
    color: #f5a623;
}
</style>
</head>

<body>

<div class="container">

<h1>Smart Deadline Starter</h1>

<label>Subject</label>
<input type="text" id="subject">

<label>Assessment Name</label>
<input type="text" id="assessment">

<label>Deadline</label>
<input type="date" id="deadline">

<label>Difficulty (1–10)</label>
<input type="number" id="difficulty" min="1" max="10">

<label>How many days per week can you NOT study?</label>
<input type="number" id="unavailable" min="0" max="7" value="0">

<label>On busy days, max minutes you can study?</label>
<input type="number" id="busyMinutes" min="0" value="30">

<button onclick="generateStudyPlan()">Generate Study Plan</button>

<div id="output" class="result-box"></div>

<a href="index.html" class="back-btn">← Back to Home</a>

</div>

<script>

function formatTime(hoursDecimal) {
    const totalMinutes = Math.round(hoursDecimal * 60);
    const hours = Math.floor(totalMinutes / 60);
    const minutes = totalMinutes % 60;

    if (hours > 0 && minutes > 0) {
        return `${hours} hour${hours > 1 ? 's' : ''} ${minutes} minutes`;
    } else if (hours > 0) {
        return `${hours} hour${hours > 1 ? 's' : ''}`;
    } else {
        return `${minutes} minutes`;
    }
}

function generateStudyPlan() {

    const subject = document.getElementById("subject").value;
    const assessment = document.getElementById("assessment").value;
    const deadlineInput = document.getElementById("deadline").value;
    const difficulty = parseInt(document.getElementById("difficulty").value);
    const unavailable = parseInt(document.getElementById("unavailable").value);
    const busyMinutes = parseInt(document.getElementById("busyMinutes").value);

    if (!subject || !assessment || !deadlineInput || !difficulty) {
        alert("Please complete all fields.");
        return;
    }

    const today = new Date();
    const deadline = new Date(deadlineInput);
    const timeDifference = deadline - today;
    const daysUntil = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));

    const totalHours = difficulty * 2.5;

    const weeksUntil = daysUntil / 7;
    const estimatedUnavailableDays = Math.round(weeksUntil * unavailable);
    const availableDays = Math.max(daysUntil - estimatedUnavailableDays, 1);

    const busyHoursTotal = (busyMinutes / 60) * estimatedUnavailableDays;

    const remainingHours = Math.max(totalHours - busyHoursTotal, 0);
    const dailyHours = remainingHours / availableDays;

    let feedback = "";

    if (dailyHours > 5) {
        feedback = `
        This workload is quite heavy for the time available.
        Consider adjusting expectations or starting earlier next time.
        `;
    }

    else if (difficulty <= 3 && daysUntil > 3) {
        feedback = `
        You’re in a strong position. Stay consistent and you’ll remain in control.
        `;
    }

    else if (difficulty >= 7 && daysUntil > 3) {
        feedback = `
        This is challenging, but your structured approach will make a difference.
        Keep sessions focused and balanced.
        `;
    }

    else if (daysUntil <= 3 && difficulty >= 6) {
        feedback = `
        Time is limited. Focus on high-impact topics and protect your energy.
        For future assessments, starting earlier will reduce pressure.
        `;
    }

    else {
        feedback = `
        Stay steady and consistent. Small daily effort compounds effectively.
        `;
    }

    document.getElementById("output").innerHTML = `
        <h3>${assessment}</h3>
        <p><strong>Subject:</strong> ${subject}</p>
        <p><strong>Total Study Time:</strong> ${formatTime(totalHours)}</p>
        <p><strong>Days Until Deadline:</strong> ${daysUntil}</p>
        <p><strong>Available Study Days:</strong> ${availableDays}</p>
        <p><strong>Recommended Study on Available Days:</strong> ${formatTime(dailyHours)} per day</p>
        <p><strong>Study on Busy Days:</strong> ${busyMinutes} minutes</p>
        <p style="margin-top:20px;"><em>${feedback}</em></p>
    `;
}

</script>

</body>
</html>
