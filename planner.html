<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PathWise | Smart Deadline Starter</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0f1f3d, #162c57);
    color: white;
}

.container {
    max-width: 800px;
    margin: 80px auto;
    padding: 40px;
}

h1 {
    text-align: center;
    margin-bottom: 40px;
}

label {
    font-weight: bold;
}

input {
    width: 100%;
    padding: 12px;
    margin-top: 8px;
    margin-bottom: 25px;
    border-radius: 8px;
    border: none;
}

button {
    padding: 14px 24px;
    background: #f5a623;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
}

button:hover {
    opacity: 0.9;
}

.result-box {
    margin-top: 40px;
    background: rgba(255,255,255,0.08);
    padding: 30px;
    border-radius: 16px;
    line-height: 1.7;
}

.back-btn {
    display: inline-block;
    margin-top: 40px;
    text-decoration: none;
    color: #f5a623;
}
</style>
</head>

<body>

<div class="container">

<h1>Smart Deadline Starter</h1>

<label>Subject</label>
<input type="text" id="subject">

<label>Assessment Name</label>
<input type="text" id="assessment">

<label>Deadline</label>
<input type="date" id="deadline">

<label>Difficulty (1–10)</label>
<input type="number" id="difficulty" min="1" max="10">

<button onclick="generateStudyPlan()">Generate Study Plan</button>

<div id="output" class="result-box"></div>

<a href="index.html" class="back-btn">← Back to Home</a>

</div>

<script>

function formatTime(hoursDecimal) {
    const totalMinutes = Math.round(hoursDecimal * 60);
    const hours = Math.floor(totalMinutes / 60);
    const minutes = totalMinutes % 60;

    if (hours > 0 && minutes > 0) {
        return `${hours} hour${hours > 1 ? 's' : ''} ${minutes} minute${minutes > 1 ? 's' : ''}`;
    } else if (hours > 0) {
        return `${hours} hour${hours > 1 ? 's' : ''}`;
    } else {
        return `${minutes} minute${minutes > 1 ? 's' : ''}`;
    }
}

function generateStudyPlan() {

    const subject = document.getElementById("subject").value;
    const assessment = document.getElementById("assessment").value;
    const deadlineInput = document.getElementById("deadline").value;
    const difficulty = parseInt(document.getElementById("difficulty").value);

    if (!subject || !assessment || !deadlineInput || !difficulty) {
        alert("Please complete all fields.");
        return;
    }

    const today = new Date();
    const deadline = new Date(deadlineInput);

    const timeDifference = deadline - today;
    const daysUntil = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));

    const totalHours = difficulty * 2.5;
    const dailyHours = (daysUntil > 0) ? (totalHours / daysUntil) : totalHours;

    let feedback = "";

    if (daysUntil > 3 && difficulty <= 3) {
        feedback = `
        You are in a strong position. It looks like you understand this subject well
        and have given yourself enough time to prepare calmly and effectively.
        `;
    }

    else if (daysUntil > 3 && difficulty >= 7) {
        feedback = `
        This is a challenging assessment, but you’ve given yourself time.
        Stay consistent and break the work into focused sessions.
        `;
    }

    else if (daysUntil <= 3 && difficulty <= 5) {
        feedback = `
        Time is limited, but the difficulty level is manageable.
        Stay focused and prioritise key areas.
        `;
    }

    else if (daysUntil <= 3 && difficulty >= 6) {
        feedback = `
        With limited time and higher difficulty, focus on core concepts first.
        For future assessments, starting earlier will reduce pressure significantly.
        `;
    }

    document.getElementById("output").innerHTML = `
        <h3>${assessment}</h3>
        <p><strong>Subject:</strong> ${subject}</p>
        <p><strong>Total Study Time:</strong> ${formatTime(totalHours)}</p>
        <p><strong>Days Until Deadline:</strong> ${daysUntil}</p>
        <p><strong>Recommended Daily Study:</strong> ${formatTime(dailyHours)} per day</p>
        <p style="margin-top:20px;"><em>${feedback}</em></p>
    `;
}

</script>

</body>
</html>
